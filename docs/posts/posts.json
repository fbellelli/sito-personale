[
  {
    "path": "posts/2021-10-24-all-you-need-to-know-about-the-paris-agreement-ahead-of-cop26/",
    "title": "All you need to know about the Paris Agreement ahead of COP26",
    "description": "Only one week left to the official start of the COP26 in Glasgow, where global leaders will meet to take crucial decisions on climate change. Scientific evidence shows that we are running out of time. If we wish to avoid the worst scenario, it's now or never. What will come out of the summit? Will it be a flop or a success? We don't know yet, but this article will quickly get you up to speed with climate talks.",
    "author": [
      {
        "name": "Francesco S. Bellelli",
        "url": {}
      }
    ],
    "date": "2021-10-24",
    "categories": [
      "environment"
    ],
    "contents": "\r\n\r\nContents\r\nWhat is the Paris agreement?\r\nWait … what is climate change?\r\nGreat! We got an agreement. Everything is fine then?\r\nHow does the Paris agreement work?\r\nWhat is COP26 and why is it important?\r\n\r\nWhat is the Paris agreement?\r\nIf you haven’t heard of the Paris agreement you probably just came back from an interplanetary trip, awoke from hibernation experiment, or remained stranded on an island with no means of communication with the outside world for at least six years. So, let me congratulate you for making it here! We are happy to have you back!\r\nDuring your absence, country delegates gathered in Paris to sign a new agreement on climate change. Its goal is simply stated: limit the increase in average temperature to levels “well below 2°C above pre-industrial levels”. While the goal is simply stated, it is not simply reached. Climate change has been called the biggest challenge that humanity has to face.\r\nWait … what is climate change?\r\nIf you haven’t heard of this one, you might have been away longer than you think. Although I think you might have more pressing questions to attend, I won’t leave a question unanswered: Climate change refers to a lasting change in the temperature and weather patterns around the world. A lot of human activities generate greenhouse gases (GHG), such as carbon dioxide or methane, which trap heat in the atmosphere. An increase as small as 2°C in global average temperature is enough to create disruptive changes around the world. Torrential rainfalls, severe droughts, food insecurity, melting glaciers, biodiversity loss, flooding and rise of sea levels are just some of the unpleasant events that scientists have associated with climate change. In short: climate change effects are bad, and the risks and costs associated with it are not fully understood. We should definitively try to avoid it! And that’s what the Paris agreement is meant for. The idea is to avoid these catastrophic events by limit GHG emissions as much as possible and adapting to these changes.\r\n\r\n\r\n\r\nFigure 1: Temperature trend over the last 160 years Source: IPCC 2019 special report on Global warming of 1.5°C\r\n\r\n\r\n\r\nGreat! We got an agreement. Everything is fine then?\r\nAlas, it’s too early to celebrate. We already had two big agreements on climate change: the 1992 UN Framework Convention on Climate Change (UNFCCC), which established the institutions and principles for cooperation on climate change, and the 1997 Kyoto Protocol, which imposed binding emission reduction targets for a handful of developed nations. Yet, judging from the trend in CO\\(_2\\) concentration in the figure below, they were not terribly effective at stopping climate change. If they had, we would not be writing about a third agreement on the same issue.\r\n\r\n\r\n\r\nFigure 2: CO2 concentration in the atmosphere Source: Global Carbon Budget 2020\r\n\r\n\r\n\r\nAdmittedly, our track record is not exceptional. However, this time might be different. The Paris agreement started very well. The international community signalled a strong political engagement by allowing the Paris agreement to enter into force in 2016, just 30 days after it was open for signature — this is impressive given that it took eight years for the ratification and entry into force of the Kyoto Protocol. A crucial role in its early adoption was played by the prompt ratification of the United States — which later decided to pull-out of the agreement, and then again to rejoin it — and China during a joint ceremony. These are the two biggest GHG emitters in the world. To date, 197 countries have signed the agreement, and 190 ratified it. What’s more, the Paris agreements asks all its participants to contribute to reducing emissions by making pledges (more on this in a minute). This is essential because successful climate action requires global engagement and most of GHG emissions growth will take place in developing countries.\r\nWe can call it a good start, but the truth is that all the work still lies ahead. The figure below shows the projected global warming in a scenario in which we reach net zero emissions by 2030 (resulting in 1.5°C warming) and by 2055 (2°C warming). Reaching net zero emissions means that, on balance, the amount of GHG released in the atmosphere needs to be no larger than the GHG removed from the atmosphere. Considering that we emit about 50bn tonnes of CO\\(_2\\)-equivalent GHG, this is no small task! And achieving neutrality before 2030 (or even 2055) is definitively a challenge. One thing is certain: the earlier we act, the more likely we are to succeed.\r\n\r\n\r\n\r\nFigure 3: Paths towards Paris agreement’s goal Source: IPCC 2019 special report on Global warming of 1.5°C\r\n\r\n\r\n\r\nHow does the Paris agreement work?\r\nOverall the experience of the Kyoto Protocol was rather negative. Negotiations were arduous, the protocol engaged only a small number of countries, the entry into force was extremely slow, and its effectiveness in curbing emissions is debatable. Therefore, negotiators decided to opt for a totally different approach for the Paris Agreement. The system introduced by the Paris agreement consists of a structure divided in two layers:\r\nA common binding ground that regulates the assessment process and basic formal requirements on accounting and communication of GHG emissions;\r\nA flexible target setting for participants, in which each country is free to establish its objectives and the way it proposes to achieve them. The goals are called Nationally Determined Contribution (NDC).\r\nThe agreement sets no binding emission targets for the participants and the ratifiers incur no sanction if they do not fulfil their NDC. However, the monitoring and reporting process is binding. In addition, every five years the parties must update their NCDs objectives, which must represent a progress toward the target of the agreement and reflect the “highest possible ambition” (Article 4, Paris Agreement). As of now, the reduction in emissions implied by the sum of all pledges is unable to ensure that the objective of “well below 2°C”is met (see Figure below). However, 2021 marks the fifth year from the entry into force of the agreement. Hence, it’s now time to submit new, more ambitious pledges. Many of these new pledges have already been submitted in the past weeks. You can check out the Climate action tracker website for an overview of NDC submissions.\r\n\r\n\r\n\r\nFigure 4: Current pledges fall short of Paris agreeement’s target Source: Our World in Data\r\n\r\n\r\n\r\nAnother feature of the Paris agreement is that it allows countries to pay for carbon emissions to be reduced abroad, the first country can count those reductions towards its own national targets. This should allow to cut the costs of climate action by curbing emissions where it is most efficient. Finally, the agreement also creates financial mechanisms to support developing countries in meeting their goals. In particular, developed nations promised to provide 100 billion dollars annually from 2020 to 2025 to support the agreement.\r\nWhat is COP26 and why is it important?\r\nEvery year, the members to the UN Framework Convention on Climate Change and of the Paris agreement meet to assess their progress and take decisions regarding the implementation of the agreement. The fancy name of these meetings is “Conference of the Parties” — COP for short. This year’s COP will take place in Glasgow and it is the 26th edition of COP (hence COP26).\r\nThis edition is important for multiple reasons. First, this edition marks five years from the entry into force of the agreement. Hence, we should expect new pledges and big announcements, which will provide a guidance for the next five years of implementation. Secondly, there are still some sticking points which need to be discussed. For example, we are still a bit short of the 100bn rich countries had promised to provide by 2020 and members still need to define the highly contentious issue of how the carbon trading mechanisms will work in practice.\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-10-24-all-you-need-to-know-about-the-paris-agreement-ahead-of-cop26/pexels-pixabay-221012.jpg",
    "last_modified": "2021-10-31T23:42:36+01:00",
    "input_file": "all-you-need-to-know-about-the-paris-agreement-ahead-of-cop26.knit.md"
  },
  {
    "path": "posts/2021-08-15-pandemic-and-the-office-space-market/",
    "title": "How has the pandemic affected the office space market?",
    "description": "In this post I have a look at data from the City of London to understand how the pandemic has impacted the office market.",
    "author": [
      {
        "name": "Francesco S. Bellelli",
        "url": {}
      }
    ],
    "date": "2021-08-15",
    "categories": [
      "economics"
    ],
    "contents": "\n\n\n\n\ndiv.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px}\n\n\nClick here to open the data dashboard.\n\n\n\n\n\n\n",
    "preview": "posts/2021-08-15-pandemic-and-the-office-space-market/city2_preview.jpg",
    "last_modified": "2021-10-22T13:55:06+02:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-07-08-the-fascinating-world-of-voronoi-diagrams/",
    "title": "The fascinating world of Voronoi diagrams",
    "description": "In this article I explain what is a Vornoi diagram and why they are amazing",
    "author": [
      {
        "name": "Francesco S. Bellelli",
        "url": {}
      }
    ],
    "date": "2021-07-08",
    "categories": [
      "maths",
      "other"
    ],
    "contents": "\n\nContents\nWhat is a Voronoi diagram?\nVornoi patterns are ubiquitous\nVoronoi patterns in nature\nVoronoi pattern in architecture and arts\n\nMathematical definition and some interesting properties\nDelaunay triangulation\nLloyd’s relaxation algorithm\nHow to construct Voronoi diagrams?\nLinks to additional material\n\n\n\n\nVornoi diagrams (also known as Dirichlet tesselation or Thiessen polygons) are everywhere in nature. You have encountered them thousands of times, but maybe did not call it this way. Voronoi diagram are simple, yet they have incredible properties which have found applications in fields ranging from cartography, biology, computer science, statistics, archaeology, all way to architecture and arts.\nWhat is a Voronoi diagram?\nSuppose you have \\(n\\) points scattered on a plane, the Voronoi diagram of those points subdivides the plane in exactly \\(n\\) cells enclosing the portion of the plane that is the closest to the each point. This produces a tessellation that completely covers the plane. As an illustration, in Figure 1, I plotted 100 random points and their corresponding Voronoi diagram. As you can see, every point is enclosed in a cell, whose boundaries are exactly equidistant between two or more points. In other words, all the area enclosed in the cell is closest to the point in the cell than to any other point.\n\n\n\nFigure 1: Voronoi diagram from 100 random points in a plane\n\n\n\nVornoi patterns are ubiquitous\nVoronoi patterns in nature\nThe pattern created by Vornoi diagrams is a common one in nature. In Figure 3, I made a small collage of some naturally occurring Vornoi-like patterns. From microscopic cells in onion skins, to the shell of jackfruits and the coat of giraffes. These patterns are everywhere!\nA first reason for their omnipresence is that they form efficient shapes. As we mentioned earlier, Vornoi diagram completely tessellates the plan: hence, all space is used. This is very convenient if you are trying to squeeze as much as possible in a limited space — such as in muscle fibres or bee hives. Secondly, Vornoi diagrams are a spontaneous pattern whenever something is growing at a uniform growth rate from separate points (see Figure 2). For instance, this explains giraffe exhibit such patterns. Giraffe embryos have a scattered distribution of melanin-secreting cells, which is responsible for the dark pigmentation of the giraffe’s spots. Over the course of the gestation these cells release melanin — hence spots radiate outward. Interested reader may refer to this paper, in which the authors use Vornoi diagrams to model computer rendering of spots on animals coats.\n\n\n\nFigure 2: A Vornoi diagram is obtained from constant outward growth from dispered pointsSource: Wikipedia\n\n\n\n\n\n\nFigure 3: Voronoi patterns are everywhere in nature. (From top-left to bottom right: microscope view of onion skin cells, cross-section of a muscle, garlic bulb, wings of a dragonfly, soap bubbles, close-up of a leaf, giraffes coat patterns, corns, jackfruits hanging from a tree.)\n\n\n\nVoronoi pattern in architecture and arts\nPerhaps because of their spontaneous “natural” look, or simply because of their mesmerising randomness, Vornoi patterns have intentionally been implemented in human-made structures. An architectural example is the “Water cube” built to house the water sports during the 2008 Beijing Olympics. It features Voronoi diagrams on its ceiling and façades (Figure 4). The Vornoi diagrams were chosen because they recall bubbles1. This analogy is very clear at night, when the entire façade is illuminated in blue and comes alive.\n\n\n\nFigure 4: Water cube in Beijing\n\n\n\nBut Chinese appreciation of Vornoi pattern is surely older than this building. Guan and Ge ware from the Song dynasty have a distinctive crackled glaze. Ceramics can easily crack during the cooling process, however the crackles from the Guan and Ge ware are different — they are intentional. They are sought after because of their aesthetic qualities. Thanks to the Vornoi-like patterns on their surface, each piece is unique. To date, this is one of the most imitated styles of porcelain (Figure 5).\n\n\n\nFigure 5: Guan and Ge wares\n\n\n\nVornoi diagrams are also common in graphic arts for creating “abstract” patterns. I think they make excellent background images. For example, I created the thumbnail of this post by generating random points and constructing a Voronoi diagram. Then, I coloured each cell based on the distance of its point from a randomly selected spot in the box (Figure 6). Endless “abstract” backgrounds images could be generated this way.\n\n\n\nFigure 6: Coloured Vornoi diagram\n\n\n\nMathematical definition and some interesting properties\nSo far, we have presented a simple two-dimensional Vornoi diagram. However, the same type of structure can be generalised to an \\(n\\)-dimensional space. Suppose \\(P=\\{p_1,p_2,...,p_m\\}\\) is a set of \\(m\\) points in our n-dimensional space. Then, the space can be partitioned in \\(m\\) Vornoi cells, \\(V_i\\), containing all points in \\(\\mathbb{R}^n\\) that are closer to \\(p_i\\) than to any other point.\n\\[V_i = \\left\\{x : \\forall j \\neq i, d(x, p_i) \\leq d(x,p_j)\\right\\} \\text{, with } i,j \\in \\{1,2,...,m\\}\\] Where the function \\(d(x,y)\\) gives the distance (\\(a\\)) between its two arguments. Typically, the Euclidean distance is used (\\(l^2\\) distance):\n\\[d(x,y)=||x-y||_2=\\sqrt{\\sum_{k=1}^{n}(x_k-y_k)^2}\\] However, Vornoi diagrams could be designed using other distance functions. For instance, Figure 7 shows a Vornoi diagram obtained with the Manhattan or cityblock distance (\\(l^1\\) distance). The Manahattan distance is the distance between two points if you had to follow a regular grid — such as the city blocks of Manhattan. The result is a more “boxy” Vornoi diagram. \\[d(x,y)=||x-y||_1=\\sum_{k=1}^{n}{|x_k-y_k|}\\]\n\n\n\nFigure 7: Euclidean and Manhattan distanceSource:Johnson Hsieh\n\n\n\n\n\n\nFigure 8: Comparison of Vornoi diagrams using the Euclidean (left) and Manhattan (right) distance for a same set of pointsSource: Wikipedia\n\n\n\nEuclidean distance is the most common distance measure in scientific applications of the Voronoi diagram. It also has the advantage of generating Vornoi cells that are convex. That is to say, if you take any two points within a cell, the line that connects the two points will lie entirely within the cell.\nFinally, it should also be noted that Vornoi diagrams are tightly linked with the k-nearest neighbours algorithm (k-NN) — a very popular algorithm in classification, regression and clustering problems. The algorithm uses the \\(k\\) closest examples in the training dataset to make value predictions. Since the Vornoi diagrams partitions the space in polygons containing the closest points to each seed, the edges of Vornoi cells correspond exactly to the decision boundaries of a simple 1-nearest neighbour problem.\nDelaunay triangulation\nIf you take each of the points from a Vornoi diagram and link it with the points in its neighbouring cells, you will obtain a graph called Delaunay triangulation. In mathematical terms, the Delaunay triangulation is the dual graph of the Vornoi diagram. In the Figure below, a Vornoi diagram (black) and Delaunay triangulation (grey) is plotted from a set of points. By moving the mouse over the image, one can explore how they are affected by a new point.\n\n\n\n{\"x\":{\"data\":null,\"type\":\"NULL\",\"container\":\"svg\",\"options\":null,\"script\":\"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\\nthis.d3 = d3;\\n\\nsvg = d3.select(svg.node());\\n/* R2D3 Source File:  d3/voronoi.js */\\n// !preview r2d3 d3_version = 4\\n\\n// Based on: https://bl.ocks.org/mbostock/4060366\\n\\nsvg.on(\\\"touchmove mousemove\\\", moved);\\n\\nvar sites = d3.range(100)\\n    .map(function(d) { return [Math.random() * width, Math.random() * height]; });\\n\\nvar voronoi = d3.voronoi()\\n    .extent([[-8, -8], [width + 8, height + 8]]);\\n\\nvar polygon = svg.append(\\\"g\\\")\\n    .attr(\\\"class\\\", \\\"polygons\\\")\\n  .selectAll(\\\"path\\\")\\n  .data(voronoi.polygons(sites))\\n  .enter().append(\\\"path\\\")\\n    .call(redrawPolygon);\\n\\nvar link = svg.append(\\\"g\\\")\\n    .attr(\\\"class\\\", \\\"links\\\")\\n  .selectAll(\\\"line\\\")\\n  .data(voronoi.links(sites))\\n  .enter().append(\\\"line\\\")\\n    .call(redrawLink);\\n\\nvar site = svg.append(\\\"g\\\")\\n    .attr(\\\"class\\\", \\\"sites\\\")\\n  .selectAll(\\\"circle\\\")\\n  .data(sites)\\n  .enter().append(\\\"circle\\\")\\n    .attr(\\\"r\\\", 2.5)\\n    .call(redrawSite);\\n\\nfunction moved() {\\n  sites[0] = d3.mouse(this);\\n  redraw();\\n}\\n\\nfunction redraw() {\\n  var diagram = voronoi(sites);\\n  polygon = polygon.data(diagram.polygons()).call(redrawPolygon);\\n  link = link.data(diagram.links()), link.exit().remove();\\n  link = link.enter().append(\\\"line\\\").merge(link).call(redrawLink);\\n  site = site.data(sites).call(redrawSite);\\n}\\n\\nfunction redrawPolygon(polygon) {\\n  polygon\\n      .attr(\\\"d\\\", function(d) { return d ? \\\"M\\\" + d.join(\\\"L\\\") + \\\"Z\\\" : null; });\\n}\\n\\nfunction redrawLink(link) {\\n  link\\n      .attr(\\\"x1\\\", function(d) { return d.source[0]; })\\n      .attr(\\\"y1\\\", function(d) { return d.source[1]; })\\n      .attr(\\\"x2\\\", function(d) { return d.target[0]; })\\n      .attr(\\\"y2\\\", function(d) { return d.target[1]; });\\n}\\n\\nfunction redrawSite(site) {\\n  site\\n      .attr(\\\"cx\\\", function(d) { return d[0]; })\\n      .attr(\\\"cy\\\", function(d) { return d[1]; });\\n}\\n};\",\"style\":\"/* R2D3 Source File:  d3/voronoi.css */\\n.links {\\n  stroke: #000;\\n  stroke-opacity: 0.2;\\n}\\n\\n.polygons {\\n  fill: none;\\n  stroke: #000;\\n  stroke-opacity: 1;\\n}\\n\\n.polygons :first-child {\\n  fill: #f00;\\n  fill-opacity: 0.4;\\n}\\n\\n.sites {\\n  fill: #000;\\n  stroke: #fff;\\n}\\n\\n.sites :first-child {\\n  fill: #fff;\\n}\",\"version\":4,\"theme\":{\"default\":{\"background\":\"#FFFFFF\",\"foreground\":\"#000000\"},\"runtime\":null},\"useShadow\":true},\"evals\":[],\"jsHooks\":[]}\nFigure 9: Vornoi diagram and Delaunay triangulationSource: r2d3\n\n\n\nDelaunay triangulation is just as amazing as Vornoi diagrams. As the name suggests, it produces a set of triangles linking our points. These triangles are such that if one were to draw a circle across the vertices of these triangles, there would be no other point inside the circle (See Figure 10). Moreover, Delaunay triangulation also has the property of maximising the smallest angle of in the triangles of the triangulation. Hence, Delaunay triangulation tends to avoid triangles with acute angles.\n\n\n\nFigure 10: Delaunay triangles are constructed such that no point falls inside the circle circumscribing each triangleSource: Wikipedia\n\n\n\nThese properties make it very useful in modelling surfaces and objects from a set of points. For instance, the Delaunay triangulation is used to generate meshes for the finite element method and in facial recognition, construct 3D models for computer animations and model terrain in GIS analysis.\n\n\n\nFigure 11: Delaunay triangulation is used to produce meshes for facial recognitionSource: Learn OpenCV\n\n\n\nLloyd’s relaxation algorithm\nLlyod’s algorithm is a useful algorithm related to Vornoi diagrams. The algorithm consists in repeatedly alternating between constructing Vornoi diagrams and finding the centroids (i.e. center of mass) of each cell (See Figure 12). At each iteration, the algorithm spaces the points apart and produces more homogeneous Vornoi cells.\n\n\n\nFigure 12: Steps in Lloyd’s relaxation algorithm\n\n\n\nAfter a few iterations, the cells will already have a “rounder” aspect and points will be more evenly distributed. This is illustrated in the figure below, in which I have plotted the first 30 iterations of the Lloyd’s algorithm for a random set of points. For each point, I also record their starting position (grey hollow circle) to better trace the movement of each cell. For high number of iterations, the diagram tends to converge towards a stable Vornoi diagram in which every seed is also the centroid of the cell — also known as the centroidal Vornoi diagram. Interestingly, in 2D, Voronoi cells will tend to turn into hexagons because they provide the most efficient way of of packing shapes in a plane. As any bee building their hive can certify, hexagonal cells have two big advantages: 1) they ensure no empty space is left between cells (i.e. tessellates the plane), and 2) hexagons offer the highest ratio between surface and perimeter of the cell. This so-called Honeycomb conjecture, took mathematicians two-thousand years to prove.\n\n\n\nFigure 13: 30 iterations of the Lloyd’s algorithm\n\n\n\nIn data science, Lloyd’s algorithm is at the basis of k-means clustering — one of the most popular clustering algorithms. k-means clustering is typically initiated by taking \\(k\\) random “centroids” in space. Then, data points are grouped in \\(k\\) clusters by alternating between 1) assigning data points to the closest “centroid” (this is equivalent to building a Voronoi diagram for the centroid and checking which point are inside the cell) and 2) updating the centroid by calculating the mean of the points inside each cell (See Figure 14).\n\n\n\nFigure 14: k-means clusteringSoruce: Wikipedia\n\n\n\nBesides data science, Lloyd’s algorithm is used in a variety of applications. For instance, it is very common in quantization and lossy data compression algorithms (e.g. Lloyd-Max algorithm). It is also very useful whenever one wants random points that are nicely spaced. For instance, it could be used to smooth meshes generated from the Delaunay triangulation, for dithering images, or as a basis for procedural maps generation in video games.\nHow to construct Voronoi diagrams?\nOne could construct Voronoi diagrams by building each cell one by one. If one extends the bisector of the segments linking every combination of points, it is possible to obtain the outline of Voronoi cells (Figure 15). However, this technique is quite inefficient. Considering there are \\(\\frac{1}{2}(1-n)n\\) combinations of points, the complexity of such algorithm would increase quadratically with the number of points.\n\n\n\nFigure 15: Construction of Voronoi cellsSource: Roberto Tamassia\n\n\n\nMore efficient alternatives have been proposed. For example, the Sweep line algorithm builds Voronoi cells progressively by sequentially using binary search tree and priority queue operations (Figure 16). A good description of this algorithm can be found here. Another way of constructing Voronoi diagrams, is to first build Delaunay triangulations. Once the triangulation is obtained, extending the bisectors of the triangle edges leads to the Voronoi diagram (Figure 17). Delaunay triangulation can be obtained without the need of considering every pair of points. For instance, an efficient technique consists in projecting the points on a paraboloid in a higher dimension. Re-projecting back the convex hull onto the original space gives the Delaunay triangulation (Figure 18)\n\n\n\nFigure 16: Sweep line algorithmSource: Wikipedia\n\n\n\n\n\n\nFigure 17: Construction of Voronoi diagramsSource: Giulia Andreucci\n\n\n\n\n\n\nFigure 18: Using the convex hull method for constructing Delaunay triangulationSource: Danny Sleator\n\n\n\nA discussion of different algorithms for computing Voronoi diagram and their complexity is available here, here, and here. New algorithms are continuously being proposed to improve computation efficiency in different circumstances (e.g. Yan et al. 2011, Qin et al. 2017). There are also techniques requiring constant time that generate approximate Voronoi diagrams (e.g. Jump flooding algorithm).\nLinks to additional material\nThis article tells the story of how Voronoi diagrams were used by John Snow to show the link between water pumps and the transmission of Cholera during the 1854 London outbreak.\nAmil Patel has a phenomenal blog on game development. I highly recommend his posts on procedural map generation with Voronoi diagrams.\nThis post by David Austin gives a great explanation of the Sweep line algorithm for computing Voronoi diagrams.\nThis nice looking map by Jason Davies is a Voronoi diagram of the location of airports around the world.\nSpatial Tessellations: Concepts and Applications of Voronoi Diagrams is a bible on Voronoi diagrams. If you have any doubt about Voronoi diagrams, you will certainly find an answer here.\nThese slides from Vincent Legat have some beautiful drawings for different construction algorithms.\nVoronoi diagrams are commonly used to model trees in forests (e.g. Abellanas et al. 2016, Bohler et al. 2018).\nVoronoi diagrams can also be used to determine robot’s paths. Check these articles: article 1, article 2.\nVoronoi diagrams have thousand of applications. From modelling trees in a forest to planning robot paths. In this article I barely scratched the surface. These links contain lists of interesting applications: link 1, link 2, link3, link4, link 5.\n\nTo be more precise, the “Water cube” patterns are inspired from Weaire-Phelan bubbles. However, these are directly obtainable as Vornoi diagram.↩︎\n",
    "preview": "posts/2021-07-08-the-fascinating-world-of-voronoi-diagrams/voronoi_animation2.gif",
    "last_modified": "2021-10-22T13:55:02+02:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-06-20-worldata/",
    "title": "Worldata",
    "description": "I am working on an R package designed to quickly wrangle, merge and explore country data",
    "author": [
      {
        "name": "Francesco S. Bellelli",
        "url": {}
      }
    ],
    "date": "2021-06-20",
    "categories": [
      "coding"
    ],
    "contents": "\nWorldata\nAs an economist, I often work with country-level data coming from different sources. GDP series from the IMF, monetary data from central banks, trade data from WTO, CO2 emissions from the IEA, survey data from national agencies, etc.. Pooling all this data together is often a laborious task because countries’ naming conventions are never the same.\nTo make things easier, I am writing an R package to deal with this type of data. Ideally, the user should be able to merge country data files with a unique line of command. The package will offer functionalities to:\nConvert country names to a common nomenclature (e.g. M49 standard or ISO-3 codes)\nTranslate country names to different languages\nMerge country data in a unique table by recognising and matching different country nomenclatures\nSupport the merging of country data with multiple identifiers (e.g. panel data or country-sector data)\nEasily download and merge data from online public data (e.g. World Bank data, FRED, etc.)\nAutomatically generate interactive visualisations to explore country data\n\n\n\n",
    "preview": "https://cdn.britannica.com/13/129613-131-30279F20/Flags-world-flags-Country-history-blog-travel-2009.jpg",
    "last_modified": "2021-10-22T13:55:00+02:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-04-03-tilemaster-a-strategy-game-in-shiny/",
    "title": "TileMaster: a strategy game in Shiny",
    "description": "I created a small strategy game with RStudios' Shiny platform. If it can run a data dashboard, why not a strategy game?",
    "author": [
      {
        "name": "Francesco S. Bellelli",
        "url": {}
      }
    ],
    "date": "2021-04-03",
    "categories": [
      "coding"
    ],
    "contents": "\n\n\n\n\ndiv.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px}\n\n\nA link to the game Tile master is available here.\n\n\n\nAfter a look at the amazing gallery of dashboards and interactive data visualisations from Shiny apps, I decided that I had to explore its functionalities by trying a project on my own.\nShiny allows R users to quickly build and share simple apps that run on browsers. They are ideal for data visualisation. It is really easy to create interactive charts and combine them in a beautiful dashboards. So why not trying to plot some interesting economic data? I should have thought about this a bit longer. For some inexplicable reason, I decided it would be interesting to implement a strategy board game on a shiny app.\nIt was a challenging project. It took some time, and a lot more coding than originally planned, but eventually I managed to implement a playable game with Shiny. For the moment I didn’t write down the games’ rules and didn’t include a tutorial. So, if you don’t mind figuring the rules out by trial and error, feel free to give it a try! No fun is guaranteed.\nThis game was an enriching journey. I ended up exploring all sorts of unexpected subjects: from path finding algorithms and Delaunay triangulation to advanced game developing concepts. I also thoroughly enjoyed building the AI for this game. Given the strategic complexity of the game — and being the first AI I ever built — I am quite pleased with the final result. I experimented with different AI approaches, programmatic, machine learning and hybrids. In its final version, the basic AI decision process is a hybrid between a finite-state machine and a utility-based system. I then improved it by training machine learning models to evaluate the AI’s moves.\nI implemented many functionalities in the app. Users can save and load games, generate random maps with customisable parameters, select AI difficulty level and even play in a shared-screen multiplayer mode. In the end, it was a great learning project!\n\n\n\n",
    "preview": "posts/2021-04-03-tilemaster-a-strategy-game-in-shiny/../../images/tilemaster_screenshot.png",
    "last_modified": "2021-10-22T13:54:59+02:00",
    "input_file": {},
    "preview_width": 1599,
    "preview_height": 1531
  },
  {
    "path": "posts/2021-03-20-how-to-increase-participation-in-environmental-agreements/",
    "title": "How to increase participation in environmental agreements?",
    "description": "Understanding the determinants of participation in environmental agreements can help us frame more successful agreements. In this article, I discuss the economic theory and empirical evidence on this topic.",
    "author": [
      {
        "name": "Francesco S. Bellelli",
        "url": {}
      }
    ],
    "date": "2021-03-20",
    "categories": [
      "environment",
      "economics"
    ],
    "contents": "\n\nContents\nEnvironmental agreements and economic theory\nEmpirical evidence\n\n\ndiv.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px;}\n\n\n\nFigure 1: Number of multilateral environmental agreements by year Data from Mitchell (2020)\n\n\n\nThe world is facing significant environmental challenges, most of which are transboundary. Air pollution, contamination of lakes and rivers, global warming, biodiversity loss, deforestation, desertification, or overfishing are all problems that cross national borders and require international cooperation. Currently, the primary cooperative tools at our disposal are international environmental agreements, such as the Paris agreement on climate change, the CITES agreement on the trade of endangered species, or the Montreal protocol on ozone-depleting substances.\nOver the last fifty years, the number of environmental agreements has exploded (Figure 1). To date, more than 3,000 environmental agreements have been identified (Mitchell 2020) embodying cooperation on the most disparate environmental issues (Figure 2). Some agreements are successful, while others fail. Some attract universal participation, while others die on the negotiation table. Now more than ever, environmental agreements play a crucial role in improving environmental protection worldwide. Hence, the following questions are of great interest to economists: What motivates participation in environmental agreements? How can participation in environmental agreements be increased? Is there any factor at the national level that systematically enhance participation rates? If so, how can policy makers intervene to improve the likelihood of solving transboundary and global environmental issues?\n\n\n\nFigure 2: Number of agreements by subject Data from Mitchell (2020)\n\n\n\nEnvironmental agreements and economic theory\nThese questions have been addressed in economic research mostly using game-theoretical approaches in models that predict both the optimal emission abatement and participation levels in international agreements. In these models, countries contend with a considerable incentive to free-ride because the benefits of the agreement are usually considered non-excludable and non-rival. Hence, the conclusions of classic game-theoretical models are generally pessimistic on the capacity to solve environmental problems. In these models, wide participation in agreements can only be achieved with low abatement targets that fall short of the social optimum. This outlook originates from the core assumptions of these models, which frame treaty participation as a one-off non-cooperative choice — just like in a prisoner’s dilemma.\nLater works largely confirmed the free-riding incentive existing in treaty participation, with some improvement in the participation outlook. For example, participation can be improved if participants can offer side transfers. Under the right circumstances also the inclusion of penalties, trade restriction, minimum participation rules and permit trading schemes can considerably boost participation. Moreover, in repeated games — which allow countries to join the agreement in different moments — the result are generally more optimistic than in one-off games.\nEmpirical evidence\nThanks to the collection of large catalogues of environmental agreements (e.g. Mitchell 2020; CIESIN 2013), scholars can now look at these questions from an empirical perspective. Several findings emerge from this line of enquiry.\nFirst of all, the success of an agreement depends primarily on its content. This is by far the most important factor. More stringent agreement tend to deter participation, but there are some type of clauses (e.g.monitoring and enforcement rules, minimum participation rules, technological transfers, financial assistance) which can deliver stronger environmental commitment without penalising participation. Moreover, in Bellelli, Scarpa, and Aftab (2021), I show that regional agreements attract consistently higher ratification rates — on average the probability of joining a regional agreement is 2.5 times higher than for international agreements.\n\n\n\nFigure 3: Number of IEA ratifications by 2017 Data from Bellelli, Scarpa, and Aftab (2021)\n\n\n\nSo, design of the agreement matters. But this does not tell the whole story. As shown in the map above, participation varies not only between environmental agreements, but also between countries. And these differences are not random, rather, they seem to be clustered geographically, suggesting that political and economic factors are at play. The level of income, the quality of political institutions, the trade profile of the country, electoral and constitutional rules, the economic interests of domestic agents, are all factors that may influence a countries’ participation in international agreements.\nFinally, participation choices are seen as a strategic moves, which do not only depend on the characteristics of the country and treaty, but also on the behaviour of foreign nations. While we would theoretically expect a free-riding attitude, empirical evidence suggests that free-riding incentives are mitigated by the presence of international linkages. Empirical findings show that ratification likelihood increases when foreign nations decide to participate in treaties. This is particularly true in the case of large nations and countries that are in the same geographical area or income bracket. The empirical literature agrees that this effect is partly explained by the existence of economic and political ties between countries, which create interdependence and reputational costs for non-participation.\n\nMore information on this topic may be found in:\nBellelli, F.S., Scarpa, R. and Aftab, A. (2021) The joining dilemma: A survey of the empirical literature on environmental treaty participation. Review of Environmental Economics and Policy. (Forthcoming) PDF Appendix\nBellelli, F.S., Scarpa, R. and Aftab, A. Interest groups and participation in international environmental agreements. Working paper. Available from https://fbellelli.com/research.html. PDF\n\n\n\n\nBellelli, Francesco Saverio, Riccardo Scarpa, and Ashar Aftab. 2021. “Interest Groups and Participation in International Environmental Agreements.” Working Paper.\n\n\nCIESIN. 2013. “Environmental Treaties and Resource Indicators (ENTRI).” Center for International Earth Science Information Network.\n\n\nMitchell, R. B. 2020. “International Environmental Agreements Database Project.” University of Oregon.\n\n\n\n\n",
    "preview": "posts/2021-03-20-how-to-increase-participation-in-environmental-agreements/map-number-ratifications.png",
    "last_modified": "2021-10-22T13:54:59+02:00",
    "input_file": {},
    "preview_width": 7017,
    "preview_height": 4209
  },
  {
    "path": "posts/2021-01-27-watercolours/",
    "title": "Watercolours",
    "description": "A gallery displaying some of the artistic creations of Francesco and Lily",
    "author": [
      {
        "name": "Francesco S. Bellelli",
        "url": {}
      },
      {
        "name": "Lily Runkun Tian",
        "url": {}
      }
    ],
    "date": "2021-01-27",
    "categories": [
      "other"
    ],
    "contents": "\n\n\n\n\nClick on any picture to enlarge it\n\n\n\n\n\n#lightgallery > a > img:hover {\n   transform: scale(1.15, 1.15);\n   transition: 0.2s ease-in-out;\n   cursor: pointer;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    lightGallery(document.getElementById('lightgallery'));\n\n\n\n",
    "preview": "posts/2021-01-27-watercolours/paintings/squirrel.jpeg",
    "last_modified": "2021-10-22T13:54:54+02:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-01-20-mappa-licita-naturale/",
    "title": "Mappa licita naturale",
    "description": "Mappa di un sistema di licita naturale lungo-corto a bridge",
    "author": [
      {
        "name": "Francesco S. Bellelli",
        "url": {}
      }
    ],
    "date": "2021-01-20",
    "categories": [
      "other"
    ],
    "contents": "\n\n\n\n\ndiv.blue { background-color:#e6f0ff; border-radius: 5px; padding: 20px; margin: auto; width: 50%}\n\n\nScaricare immagine: SVG\n\n\n\nVersione zoomabile\n\n\n\n\n* {box-sizing: border-box;}\n\n.img-zoom-container {\n  position: relative;\n}\n\n.img-zoom-lens {\n  position: absolute;\n  border: 1px solid #d4d4d4;\n  /*set the size of the lens:*/\n  width: 50px;\n  height: 50px;\n}\n\n.img-zoom-result {\n  border: 1px solid #d4d4d4;\n  /*set the size of the result div:*/\n  width: 500px;\n  height: 500px;\n}\n\n\n\nfunction imageZoom(imgID, resultID) {\n  var img, lens, result, cx, cy;\n  img = document.getElementById(imgID);\n  result = document.getElementById(resultID);\n  /* Create lens: */\n  lens = document.createElement(\"DIV\");\n  lens.setAttribute(\"class\", \"img-zoom-lens\");\n  /* Insert lens: */\n  img.parentElement.insertBefore(lens, img);\n  /* Calculate the ratio between result DIV and lens: */\n  cx = result.offsetWidth / lens.offsetWidth;\n  cy = result.offsetHeight / lens.offsetHeight;\n  /* Set background properties for the result DIV */\n  result.style.backgroundImage = \"url('\" + img.src + \"')\";\n  result.style.backgroundSize = (img.width * cx) + \"px \" + (img.height * cy) + \"px\";\n  /* Execute a function when someone moves the cursor over the image, or the lens: */\n  lens.addEventListener(\"mousemove\", moveLens);\n  img.addEventListener(\"mousemove\", moveLens);\n  /* And also for touch screens: */\n  lens.addEventListener(\"touchmove\", moveLens);\n  img.addEventListener(\"touchmove\", moveLens);\n  function moveLens(e) {\n    var pos, x, y;\n    /* Prevent any other actions that may occur when moving over the image */\n    e.preventDefault();\n    /* Get the cursor's x and y positions: */\n    pos = getCursorPos(e);\n    /* Calculate the position of the lens: */\n    x = pos.x - (lens.offsetWidth / 2);\n    y = pos.y - (lens.offsetHeight / 2);\n    /* Prevent the lens from being positioned outside the image: */\n    if (x > img.width - lens.offsetWidth) {x = img.width - lens.offsetWidth;}\n    if (x < 0) {x = 0;}\n    if (y > img.height - lens.offsetHeight) {y = img.height - lens.offsetHeight;}\n    if (y < 0) {y = 0;}\n    /* Set the position of the lens: */\n    lens.style.left = x + \"px\";\n    lens.style.top = y + \"px\";\n    /* Display what the lens \"sees\": */\n    result.style.backgroundPosition = \"-\" + (x * cx) + \"px -\" + (y * cy) + \"px\";\n  }\n  function getCursorPos(e) {\n    var a, x = 0, y = 0;\n    e = e || window.event;\n    /* Get the x and y positions of the image: */\n    a = img.getBoundingClientRect();\n    /* Calculate the cursor's x and y coordinates, relative to the image: */\n    x = e.pageX - a.left;\n    y = e.pageY - a.top;\n    /* Consider any page scrolling: */\n    x = x - window.pageXOffset;\n    y = y - window.pageYOffset;\n    return {x : x, y : y};\n  }\n}\n\n\n\n\n\n\n\nimageZoom(\"myimage\", \"myresult\");\n\n\n\n",
    "preview": "posts/2021-01-20-mappa-licita-naturale/BRIDGE sistema naturale.svg",
    "last_modified": "2021-10-22T13:54:53+02:00",
    "input_file": {}
  }
]
