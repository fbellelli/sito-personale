<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:distill="https://distill.pub/journal/" version="2.0">
  <channel>
    <title>F.S.Bellelli</title>
    <link>https://fbellelli.com/</link>
    <atom:link href="https://fbellelli.com/index.xml" rel="self" type="application/rss+xml"/>
    <description>This is the personal website of Francesco Saverio Bellelli. From time to time, I post about things that I find interesting or about some recent work I have been doing. 
</description>
    <image>
      <title>F.S.Bellelli</title>
      <url>https://fbellelli.com/images/favicon feather.ico</url>
      <link>https://fbellelli.com/</link>
    </image>
    <generator>Distill</generator>
    <lastBuildDate>Sat, 21 May 2022 00:00:00 +0000</lastBuildDate>
    <item>
      <title>A brief introduction to natural hazard risk analysis</title>
      <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Francesco S. Bellelli</dc:creator>
      <link>https://fbellelli.com/posts/2022-05-22-a-brief-introduction-to-natural-hazard-risk-analysis</link>
      <description>


&lt;p&gt;&lt;img src="https://fbellelli.com//posts/2022-05-22-a-brief-introduction-to-natural-hazard-risk-analysisflood.jpg" width="960" /&gt;&lt;/p&gt;
&lt;h2 id="first-things-first"&gt;First things first&lt;/h2&gt;
&lt;p&gt;The fundamental prerequisite for any risk exposure assessment is to have a list of assets for which we wish to conduct the analysis. As an illustrative purpose, we can imagine we have been tasked to analyse flood risk for presidential palaces around the world. This &lt;a href="https://en.wikipedia.org/wiki/Presidential_palace"&gt;Wikipedia&lt;/a&gt; page provides a list of palaces names with the name of the city and country in which they are located. I extracted, cleaned and saved the information of 143 presidential palaces in a &lt;code&gt;csv&lt;/code&gt; file, which can be downloaded &lt;a href="https://fbellelli.com/posts/natural-hazard-risk-analysis-in-r/presidential-palaces_geocoded_with_risk.csv"&gt;here&lt;/a&gt; to follow along with the example.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;#load list of palaces
palaces &amp;lt;- read.csv(&amp;quot;presidential_palaces_geocoded_with_risk.csv&amp;quot;, encoding=&amp;quot;UTF-8&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id="geocoding"&gt;Geocoding&lt;/h2&gt;
&lt;p&gt;Once we have a collection of asset, the first step is to convert addresses into latitude and longitude coordinates — this operation is known as &lt;strong&gt;geocoding&lt;/strong&gt;. Geocoding is important because it gives geographic coordinates that are easily interpretable by a computer. This will allow to place our assets on a map and extract information on flood risks.&lt;/p&gt;
&lt;p&gt;Geocoding is usually performed with an API (e.g. Google maps, OpenStreetMap, …) that takes &lt;em&gt;in&lt;/em&gt; addresses and spits &lt;em&gt;out&lt;/em&gt; coordinates. Nowadays, these APIs require the user to provide keys in order to limit the number of requests. Here is a list of the most common packages for doing this in R:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ggmap&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nominatimlite&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;osmdata&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tidygeocoder&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Attentive readers, might have noticed that we already provided longitude and latitudes in the example file. We got these coordinates with the following code.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(ggmap)

# insert personal google API key - this requires registration 
register_google(key=&amp;quot;WRITE YOUR KEY HERE&amp;quot;)

#geocode addresses
geo &amp;lt;- geocode(paste0(palaces$Building,&amp;quot;, &amp;quot;,palaces$Country))

#import geocodes in table
palaces &amp;lt;- cbind(palaces,geo)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now that we have the coordinates of the palaces, we can easily place them on an interactive map with the package &lt;code&gt;leaflet&lt;/code&gt;. The names of the palaces can be visualised by hovering over the markers.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(leaflet)

leaflet(palaces) %&amp;gt;%
  addTiles() %&amp;gt;%  
  addMarkers(lng= ~ lon, lat= ~ lat, label= ~ Building)&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-b65739a072fd1cbafc5d" style="width:672px;height:480px;" class="leaflet html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-b65739a072fd1cbafc5d"&gt;{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&amp;copy; &lt;a href=\"https://openstreetmap.org\"&gt;OpenStreetMap&lt;\/a&gt; contributors, &lt;a href=\"https://creativecommons.org/licenses/by-sa/2.0/\"&gt;CC-BY-SA&lt;\/a&gt;"}]},{"method":"addMarkers","args":[[36.7535686,6.3702928,-24.6521557,3.8480325,-4.2833186,5.3599517,6.8276228,11.5720765,30.0432148,30.0888643,30.09813,15.3355689,8.9806034,0.3921138,5.5797341,11.8638703,-1.282819,-19.0033026,-18.8791902,-13.9631425,12.6580318,18.0947803,-22.591141,9.0622697,-1.9393852,0.2602568,14.716677,2.041022,9.562389,-25.7378419,4.859363,15.5006544,36.844501,0.3208331,0.0511839,-15.428921,-17.8216288,-34.6080556,-34.515,13.1012,-16.4967711,-15.7990489,-33.4429091,4.5954066,9.9227382,23.1135925,23.1206272,15.414999,-0.219716,13.6851216,14.6426439,18.5430982,14.0887349,19.4324451,12.1149926,-25.2772267,-12.0448456,5.826814,10.677646,38.8976763,-34.9072255,-34.8601987,10.5080483,10.4878059,34.525212,40.1872023,40.4092617,23.7233727,39.904211,35.155663,-8.555501,28.6177247,17.5046669,31.1139028,-6.170131,-6.2087634,-6.7336086,-6.5980046,-7.8001506,-8.4149206,35.8161559,33.315241,31.7763078,51.1257401,37.5866076,39.1163434,39.063236,42.8772492,42.8822707,17.9624484,33.8417455,47.92075,19.7633057,27.7172453,33.732222,31.952162,14.5946001,1.3067039,7.263889,33.5176726,33.5188937,25.0399991,38.5766538,38.963745,37.9316011,41.2994958,40.116667,41.3583502,21.0392942,15.3694451,41.3189,48.2056578,53.9006011,43.8578928,42.6970493,45.837778,50.0910966,50.1239183,60.1683906,48.8697906,52.5175726,50.7227846,41.6956973,37.9727877,47.4978589,53.3596862,41.8996484,56.9509516,54.6832231,41.985771,35.8964431,35.8614473,47.0104529,52.243168,52.2131463,44.4345086,55.7505944,55.753038,44.8098391,48.149138,46.0490152,39.9308873,50.4483553],[3.0425182,2.3912362,25.9143093,11.5020752,15.2649343,-4.0082563,-5.2893433,43.1456475,31.247217,31.3193929,31.3041176,38.9308357,38.7577605,9.4426136,-0.1884806,-15.5849111,36.8000221,47.5285396,47.5079055,33.851701,-8.0112381,-15.9707222,17.100912,7.5185333,30.0836323,6.6210611,-17.4676861,45.336775,44.0770134,28.226743,31.57125,32.5598994,10.1993064,32.5804497,32.463708,28.3276983,31.0492259,-58.3702778,-58.483056,-59.5996,-68.1339357,-47.8607689,-70.6538699,-74.0775852,-84.0558275,-82.3665956,-82.38729,-61.370976,-78.5126074,-89.2398936,-90.5131097,-72.3388888,-87.1878363,-99.131193,-86.2361744,-57.6372439,-77.0297865,-55.151245,-61.511979,-77.0365298,-56.2001356,-56.1970177,-66.9193333,-66.8338841,69.1767397,44.515209,49.8670924,90.4180883,116.407395,33.3472557,125.5630338,77.1975612,78.5217595,77.2477895,106.8241607,106.845599,107.0410991,106.7974666,110.3637507,115.3109393,51.4240378,44.3660671,35.2128566,71.4463504,126.974811,125.8058622,125.7891197,74.6002389,74.5618441,102.6101184,35.5394954,106.917306,96.0785104,85.3239605,73.098333,35.233154,120.9946065,103.8431002,80.640278,36.2518981,36.2622372,121.5119507,68.7784685,35.243322,58.3841512,69.2400734,64.566667,69.3998445,105.834498,44.1910066,19.82,16.3647803,27.558972,18.4140776,23.3239639,15.958333,14.4016165,13.9562552,24.9563446,2.3164773,13.3527928,7.1172788,44.8110702,23.7408305,19.0380282,-6.3174136,12.4870235,24.1005816,25.2860246,21.4156881,14.4463108,14.4006292,28.8638103,21.0166125,21.0276429,26.0606683,37.615344,37.6190995,20.4632109,17.1077209,14.497814,32.7990765,30.5376094],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,["El Mouradia, Algiers","Palais de la Marina, Cotonou","State House, Gaborone","The Unity Palace, Yaoundé","Palais du Peuple, Brazzaville","Presidential Palace, Abidjan","Presidential Palace, Yamoussoukro","Presidential Palace, Djibouti City","Abdeen Palace, Cairo","Heliopolis Palace, Cairo","Koubbeh Palace, Cairo","Asmara President's Office, Asmara","National Palace, Addis Ababa","Presidential Palace, Libreville","Jubilee House, Accra","Presidential Palace, Bissau","State House, Nairobi","Iavoloha Palace, Antananarivo","Ambohitsorohitra Palace, Antananarivo","Kamuzu Palace, Lilongwe","Presidential Palace, Bamako","Presidential Palace, Nouakchott","State House of Namibia, Windhoek","Nigerian Presidential Complex, Abuja","Urugwiro, Kigali","Presidential Palace, São Tomé","Presidential Palace, Dakar","Villa Somalia, Mogadishu","Presidential Palace, Hargeisa","Mahlamba Ndlopfu, Pretoria","Presidential Palace, Juba","Presidential Palace, Khartoum","Carthage Palace, Tunis","State House, Kampala","State House, Entebbe","State House, Lusaka","(former) Presidential Palace, Harare","Casa Rosada, Buenos Aires","Quinta de Olivos, Buenos Aires Province","State House, Bridgetown","Casa Grande del Pueblo, La Paz","Palácio do Planalto, Brasilia","La Moneda Palace, Santiago de Chile","Casa(Palacio) de Nariño, Bogotá","Casa Presidencial, San José","Presidential Palace (former), Havana","Palacio de la Revolucion, Havana","Government House, Roseau","Carondelet Palace, Quito","Casa Presidencial, San Salvador","National Palace, Guatemala City","National Palace, Port-au-Prince","Presidential Palace, Tegucigalpa","National Palace","Presidential Palace, Managua","Palacio de los López, Asunción","Government Palace, Lima","Gouvernementsgebouw, Paramaribo","President's House, Port of Spain","White House, Washington, D.C.","Executive Tower, Montevideo","Residencia de Suárez, Montevideo","Miraflores Palace, Caracas","La Casona","Arg, Kabul","President's House, Yerevan","Presidential Palace, Baku","Bangabhaban, Dhaka","Zhongnanhai, Beijing","Presidential Palace, Nicosia","Nicolau Lobato Presidential Palace, Dili","Rashtrapati Bhavan, New Delhi","Rashtrapati Nilayam, Hyderabad","The Retreat Building, Shimla","Istana Merdeka, Jakarta","Istana Negara, Jakarta","Istana Cipanas, Cipanas","Istana Bogor, Bogor","Gedung Agung, Yogyakarta","Istana Tampaksiring, Bali","Sa'dabad Palace, Tehran; Office of the Supreme Leader of Iran","Radwaniyah Palace, Baghdad","Beit HaNassi, Jerusalem","Ak Orda Presidential Palace, Nur-Sultan","Blue House, Seoul","Ryongsong Residence, Pyongyang","Kumsusan Palace of the Sun, Pyongyang","White House, Bishkek","Ala Archa State Residence, Bishkek","Presidential Palace, Vientiane","Baabda Palace, Beirut","Government Palace, Ulan Bator","Presidential Palace, Naypyidaw","Rastrapati Bhawan, Kathmandu","Aiwan-e-Sadr, Islamabad","Mukataa","Malacañang Palace, Manila","Istana, Singapore","President's Pavilion, Kandy","Presidential Palace, Damascus","Tishreen Palace, Damascus","Presidential Office Building, Taipei","Palace of Nations, Dushanbe","Presidential Compound (Turkey)","Oguzkhan Palace, Ashgabat","Ok Saroy Presidential Palace, Tashkent[22]","Durmen","Kuksaroy Presidential Palace, Tashkent","Presidential Palace, Hanoi","Presidential Palace, Sanaa","Presidential Palace of Tirana","Hofburg Palace, Vienna","Presidential Palace, Minsk","Presidency Building, Sarajevo","Presidential Palace, Sofia","Presidential Palace, Zagreb","Prague Castle, Prague","The Lány Chateau, Lány","Presidential Palace, Helsinki","Élysée Palace, Paris","Bellevue Palace, Berlin","Villa Hammerschmidt, Bonn","Orbeliani Presidental Palace, Tbilisi","Presidential Mansion, Athens","Sándor Palace, Buda","Áras an Uachtaráin, Dublin","Quirinal Palace, Rome","Riga Castle, Riga","Presidential Palace, Vilnius","Villa Vodno, Skopje","San Anton Palace, Attard","Verdala Palace, Siġġiewi","Presidential Palace, Chișinau","Presidential Palace, Warsaw","Belweder Palace, Warsaw","Cotroceni Palace, Bucharest","Grand Kremlin Palace, Moscow Kremlin","Kremlin Senate,\nMoscow Kremlin","Novi Dvor, Belgrade","Grassalkovich Palace, Bratislava","Presidential Palace, Ljubljana","Presidential Complex","Mariinskyi Palace, Kyiv"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-34.9072255,60.1683906],"lng":[-99.131193,126.974811]}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;h2 id="how-to-find-out-information-on-flood-risk"&gt;How to find out information on flood risk&lt;/h2&gt;
&lt;p&gt;The goal of our analysis is to obtain information on the risk exposure of different assets. The easiest way to get it, is to refer to &lt;strong&gt;hazard maps&lt;/strong&gt;. Hazard maps are maps which identify areas that are vulnerable to a particular hazard. They are built by experts based on geophysical modelling that incorporate all the main factors affecting hazard exposure. Many government agency across the world build hazard maps to manage risk in their countries. For instance, in the Unites States, the reference flood hazard map is the one from the Federal Emergency Management Agency (FEMA).&lt;/p&gt;
&lt;h3 id="loading-hazard-maps"&gt;Loading hazard maps&lt;/h3&gt;
&lt;p&gt;In this example, we will use the &lt;strong&gt;riverine flood maps&lt;/strong&gt; from &lt;strong&gt;&lt;a href="https://www.wri.org/data/aqueduct-floods-hazard-maps"&gt;Acqueduct&lt;/a&gt;&lt;/strong&gt;, which have a resolution of 30 arc second (roughly 1km at the equator). Although higher granularity may be advisable for flood assessment, Acqueduct maps have the advantages of being publicly available, having a global coverage and having projections under different climate scenarios.&lt;/p&gt;
&lt;p&gt;Acqueduct flood maps are available for different &lt;strong&gt;return periods&lt;/strong&gt; (2, 5, 10, 25, …, 1000 years). Return periods are the inverse of probabilities. For instance, a 1 in 100 year flood is a flood of such intensity that it will be equalled or exceeded on average once every 100 years, i.e. a flood which has a 1% probability of occurring in a given year.&lt;/p&gt;
&lt;p&gt;For each return period, Aqueduct’s flood map display the expected inundation depth (in meters). In other words, Aqueduct provides a set of flood map which give slices of the probability-depth joint distribution. The beautiful figure below illustrates how these maps look like. Lighter colours indicate inundated areas in the event of a 1 in 500 years flood. Understandibly, the map shows that areas around rivers are at higher risk of riverine floods and quantifies the severity of this risk in term of inundation depth.&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img src="https://fbellelli.com//posts/2022-05-22-a-brief-introduction-to-natural-hazard-risk-analysisrflood500.png" alt="Aqueduct riverine historical flood map - 500 year return period" width="1432" /&gt;
&lt;p class="caption"&gt;
(#fig:unnamed-chunk-6)Aqueduct riverine historical flood map - 500 year return period
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Acqueduct flood maps come as raster files (&lt;code&gt;.tif&lt;/code&gt;), in which each pixel encodes the expected inundation depth. We can use the package &lt;code&gt;terra&lt;/code&gt; to work with this type of data in R. Let’s load the map with the following command&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(terra)

#path to Aqueduct hazard map - riverine flooding (100 years return period) 
map_path &amp;lt;- &amp;quot;http://wri-projects.s3.amazonaws.com/AqueductFloodTool/download/v2/inunriver_historical_000000000WATCH_1980_rp00100.tif&amp;quot;

#load hazard map in R
rflood100 &amp;lt;- terra::rast(map_path)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that vector data (e.g. &lt;code&gt;.shp&lt;/code&gt;, &lt;code&gt;GeoJSON&lt;/code&gt;) are also a common formats for hazard maps. In vector formats the information is attached to polygons instead of pixels. For manipulating vector spatial data, the package &lt;code&gt;sf&lt;/code&gt; is my favourite alternative. Vector data can be loaded with the functions &lt;code&gt;sf::read_sf()&lt;/code&gt; or &lt;code&gt;terra::vect()&lt;/code&gt;. Vector spatial data could be the subject of another post.&lt;/p&gt;
&lt;h3 id="a-brief-note-on-coordinate-systems"&gt;A brief note on coordinate systems&lt;/h3&gt;
&lt;p&gt;Spatial data often comes with information on the underlying coordinate system and map projections. Computers programmes will often be able to read these information and automatically convert it as needed. However, it might occasionally be necessary to specify manually this information. For example, if we wish to indicate that our &lt;code&gt;lat&lt;/code&gt; and &lt;code&gt;long&lt;/code&gt; columns correspond to the latitude and longitude commonly used in the real world by GPS systems or to perform changes of coordinates for mapping.&lt;/p&gt;
&lt;p&gt;Therefire, it might be useful to know that latitude and longitude of points of assets and polygons are very often expressed in the &lt;a href="https://en.wikipedia.org/wiki/World_Geodetic_System"&gt;World Geodesic System of 1984&lt;/a&gt; (&lt;strong&gt;WGS84&lt;/strong&gt;) and that rasterised maps normally use an &lt;a href="https://en.wikipedia.org/wiki/Equirectangular_projection"&gt;equirectangular projection&lt;/a&gt; because this projections maps the surface of the earth onto a grid, thus it can be easily linked to the pixels of an image.&lt;/p&gt;
&lt;p&gt;That being said, this topic is way to vast to fit in this article and my limited knowledge would not do justice to this fascinating corpus of scientific work. The issues associated with coordinate system, projections and their distortions kept bright human minds busy for centuries. I highly recommend &lt;a href="https://www.icsm.gov.au/education/fundamentals-mapping/overview-fundamentals-mapping"&gt;this series of articles&lt;/a&gt; from the Australian and New Zealand Spatial Information Council for a wonderfully written introduction on all these mapping topics.&lt;/p&gt;
&lt;h2 id="extracting-flood-risk-information"&gt;Extracting flood risk information&lt;/h2&gt;
&lt;p&gt;Now that we have hazard maps with flood risk information and geocoded asset locations, all that is left to do is to extract information for our locations of interest.&lt;/p&gt;
&lt;h3 id="intersecting-asset-location-with-hazard-maps"&gt;Intersecting asset location with hazard maps&lt;/h3&gt;
&lt;p&gt;We can use the same package, &lt;code&gt;terra&lt;/code&gt;, to perform this operation with one line of code. First, we declare the columns &lt;code&gt;lon&lt;/code&gt; and &lt;code&gt;lat&lt;/code&gt; as coordinates for the palaces position. Then, we use the function &lt;code&gt;extract&lt;/code&gt; to extract information from the flood map for our list of presidential palaces. Finally, we save the results in the palaces table.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;#convert palaces into vector points
palaces_vect &amp;lt;- terra::vect(palaces, geom=c(&amp;quot;lon&amp;quot;,&amp;quot;lat&amp;quot;))

#extract information for palaces
temp &amp;lt;- terra::extract(rflood100, palaces_vect) 

#save extracted information in palaces table
palaces$flood &amp;lt;- temp[,2]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Citizens around the world will be pleased to hear that most palaces around the world are not at risk of getting flooded. In the following table we list the top ten palaces in which leaders are most likely to get their feet wet in case of a 1 in a 100 year flood. Only three palaces have a flooding depth higher than 1m, which could be considered as an extreme flood.&lt;/p&gt;
&lt;table&gt;
&lt;caption&gt;(#tab:unnamed-chunk-9)Ten worst flooded palaces in case of a 1 in 100 year flood&lt;/caption&gt;
&lt;thead&gt;
&lt;tr class="header"&gt;
&lt;th align="left"&gt;Country&lt;/th&gt;
&lt;th align="left"&gt;Building&lt;/th&gt;
&lt;th align="center"&gt;Flood depth (m)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Gabon&lt;/td&gt;
&lt;td align="left"&gt;Presidential Palace, Libreville&lt;/td&gt;
&lt;td align="center"&gt;3.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Sudan&lt;/td&gt;
&lt;td align="left"&gt;Presidential Palace, Khartoum&lt;/td&gt;
&lt;td align="center"&gt;2.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Germany&lt;/td&gt;
&lt;td align="left"&gt;Villa Hammerschmidt, Bonn&lt;/td&gt;
&lt;td align="center"&gt;2.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Tunisia&lt;/td&gt;
&lt;td align="left"&gt;Carthage Palace, Tunis&lt;/td&gt;
&lt;td align="center"&gt;0.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Philippines&lt;/td&gt;
&lt;td align="left"&gt;Malacañang Palace, Manila&lt;/td&gt;
&lt;td align="center"&gt;0.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Somalia&lt;/td&gt;
&lt;td align="left"&gt;Villa Somalia, Mogadishu&lt;/td&gt;
&lt;td align="center"&gt;0.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Kazakhstan&lt;/td&gt;
&lt;td align="left"&gt;Ak Orda Presidential Palace, Nur-Sultan&lt;/td&gt;
&lt;td align="center"&gt;0.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Germany&lt;/td&gt;
&lt;td align="left"&gt;Bellevue Palace, Berlin&lt;/td&gt;
&lt;td align="center"&gt;0.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;East Timor&lt;/td&gt;
&lt;td align="left"&gt;Nicolau Lobato Presidential Palace, Dili&lt;/td&gt;
&lt;td align="center"&gt;0.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Djibouti&lt;/td&gt;
&lt;td align="left"&gt;Presidential Palace, Djibouti City&lt;/td&gt;
&lt;td align="center"&gt;0.1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="extracting-flood-depth-for-multiple-return-periods"&gt;Extracting flood depth for multiple return periods&lt;/h3&gt;
&lt;p&gt;Now that we know how information can be extracted, we can repeat the procedure for different return periods so as to have a complete picture of the distribution for different flood severity. This is time-consuming step, hence, I already included the results in the &lt;a href="https://fbellelli.com/posts/2022-05-22-a-brief-introduction-to-natural-hazard-risk-analysis/presidential_palaces_geocoded_with_risk.csv"&gt;example data&lt;/a&gt;.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;#convert palaces into vector points
palaces_vect &amp;lt;- terra::vect(palaces, geom=c(&amp;quot;lon&amp;quot;,&amp;quot;lat&amp;quot;))

#loop over all return periods
for (i in c(&amp;quot;0002&amp;quot;,&amp;quot;0005&amp;quot;,&amp;quot;0010&amp;quot;,&amp;quot;0025&amp;quot;,&amp;quot;0050&amp;quot;,&amp;quot;0100&amp;quot;,&amp;quot;0250&amp;quot;,&amp;quot;0500&amp;quot;,&amp;quot;1000&amp;quot;)){
  
  # prepare path to hazard map
  map_path &amp;lt;- paste0(&amp;quot;http://wri-projects.s3.amazonaws.com/AqueductFloodTool/download/v2/inunriver_historical_000000000WATCH_1980_rp0&amp;quot;,i,&amp;quot;.tif&amp;quot;)

  #load map  
  flood &amp;lt;- terra::rast(map_path)
  
  #extract information
  temp &amp;lt;- terra::extract(flood, palaces_vect)
  
  #save information in palaces table
  palaces[,paste0(&amp;quot;flood&amp;quot;,i)] &amp;lt;- temp[,2]
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Having the full distribution of probability-depth of flooding allows to make some interesting comparisons. The next graph shows the risk profile of the three properties with the highest flooding risk.&lt;/p&gt;
&lt;p&gt;We can see that Villa Hammerschmidt (Bonn) has 10% (1/10 yr) probability of having a 1 meter flood, while the presidential palaces in Karthoum has around 3% (1/33 yr) of experiencing a flood with similar depth levels.&lt;/p&gt;
&lt;p&gt;Overall, it appears that Villa Hammerschmidt (Bonn) is more likely to get flooded regularly, while the presidential palace in Karthoum has lower flood probabilities, but it has higher expected flood depth in case of extreme floods (1 in 100 year or higher). Finally the presidential palace in Libreville has higher expected flooding levels for all return periods.&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img src="file1f14775a54a5_files/figure-html/unnamed-chunk-11-1.png" alt="Probability-depth distribution for the three most exposed palaces" width="672" /&gt;
&lt;p class="caption"&gt;
(#fig:unnamed-chunk-11)Probability-depth distribution for the three most exposed palaces
&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id="expected-flooding-levels"&gt;Expected flooding levels&lt;/h3&gt;
&lt;p&gt;Having the full probability-severity distribution allows for a greater richness of details. However, sometimes it is handy to have a single metric that encapsulates the risk profile of an asset. To do this, we can calculate the annualised expected flood level by summing over the flood depths weighted by their probabilities (inverse of return period). One important thing to keep in mind when aggregating multiple return periods is that flood maps provide the &lt;strong&gt;exceedance probability&lt;/strong&gt; corresponding to flood levels. For instance, if the 100yr flood map indicates 1m flooding for a property, then it means that there is a 1% probability of flooding with a depth of &lt;em&gt;at least 1m&lt;/em&gt;. In the figure below, I drew the exceedance curve for the top 3 properties at risk. This curve depicts the flood distribution of the properties and it is constructed by plotting the flood depth associated with each exceedance probability (&lt;span class="math inline"&gt;\(1/Return\;period\)&lt;/span&gt;).&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img src="file1f14775a54a5_files/figure-html/unnamed-chunk-12-1.png" alt="Non-exceedance curve for the three most exposed palaces" width="672" /&gt;
&lt;p class="caption"&gt;
(#fig:unnamed-chunk-12)Non-exceedance curve for the three most exposed palaces
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Then, we can approximate the expected flood level by computing the area under the exceedance curve, which can be interpreted as a probability-weighted sum of all flood depths. We do not observe the full curve, but ony a few scattered points corresponding to the return period maps. So, for the purpose of the expected value calculations, we will assume that the curve is linear between the observed points, this will facilitate calculations and should be more realistic than a stepwise function. From the formula of trapezoid’s area, the area under the curve can be written as:&lt;/p&gt;
&lt;p&gt;&lt;span class="math display"&gt;\[ 
E[\text{Flooding}]_i = \sum^{n-1}_{j=1}\frac{1}{2}\left(\frac{1}{RP_{j}} + \frac{1}{RP_{j+1}}\right)\cdot \left(Depth_{i,j+1} - Depth_{i,j}\right) 
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where, &lt;span class="math inline"&gt;\(i\)&lt;/span&gt; is an index for the asset and &lt;span class="math inline"&gt;\(j\)&lt;/span&gt; an index for the &lt;span class="math inline"&gt;\(n\)&lt;/span&gt; available return periods. So that &lt;span class="math inline"&gt;\(RP_{j}\)&lt;/span&gt; indicates the return period associated with the &lt;span class="math inline"&gt;\(j\)&lt;/span&gt;-th index and &lt;span class="math inline"&gt;\(Depth_{ij}\)&lt;/span&gt; indicates the depth level expected for asset &lt;span class="math inline"&gt;\(i\)&lt;/span&gt; with return period &lt;span class="math inline"&gt;\(RP_{j}\)&lt;/span&gt;. We can implement this calculation in R by using the &lt;code&gt;dplyr&lt;/code&gt;and &lt;code&gt;tidyr&lt;/code&gt;packages.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(dplyr)
library(tidyr)

#tidying up the table into a long format (this facilitates calculations in R)
long_table &amp;lt;- palaces %&amp;gt;%
  pivot_longer(cols=starts_with(&amp;quot;flood&amp;quot;),
               names_to = &amp;quot;return_period&amp;quot;,
               values_to = &amp;quot;flood_depth&amp;quot;) %&amp;gt;%
  mutate(return_period = as.numeric(substr(return_period, 6,10)))

#calculating the expected flood level
risk_table &amp;lt;- long_table %&amp;gt;%
  mutate(prob_exceedance = 1/return_period) %&amp;gt;%
  group_by(Building) %&amp;gt;%
  arrange(return_period) %&amp;gt;%
  summarise(expected_flood = sum(ifelse(return_period == max(return_period), 
                                    0, 
                                    0.5*(prob_exceedance + lead(prob_exceedance))*(lead(flood_depth)-flood_depth))), .groups=&amp;quot;drop&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can then rank the palaces according to this metric. We find that the Presidential palace in Libreville and the Villa Hammerschmidt (Bonn) are the palaces at greater risk of riverine flooding in our sample. It is plausible that these palaces are at high flood risk, the presidential palace in Libreville is located just next to the sea, and villa Hammerschmidt is built on the shores of the Rhine, as shown in the map below. However, the depth levels seems suspiciously high, it would be advisable to use alternative maps (possibly with higher granularity) to double-check these numbers. Perhaps the map used here do not take into account flood defences that were built to prevent regular flooding.&lt;/p&gt;
&lt;table&gt;
&lt;caption&gt;(#tab:unnamed-chunk-14)The ten palaces at highest flooding risk&lt;/caption&gt;
&lt;thead&gt;
&lt;tr class="header"&gt;
&lt;th align="left"&gt;Bulding&lt;/th&gt;
&lt;th align="center"&gt;Annualised expected flood level (cm)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Presidential Palace, Libreville&lt;/td&gt;
&lt;td align="center"&gt;48&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Villa Hammerschmidt, Bonn&lt;/td&gt;
&lt;td align="center"&gt;35&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Presidential Palace, Khartoum&lt;/td&gt;
&lt;td align="center"&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Carthage Palace, Tunis&lt;/td&gt;
&lt;td align="center"&gt;9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Villa Somalia, Mogadishu&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Ak Orda Presidential Palace, Nur-Sultan&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Malacañang Palace, Manila&lt;/td&gt;
&lt;td align="center"&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Bellevue Palace, Berlin&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Nicolau Lobato Presidential Palace, Dili&lt;/td&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Presidential Palace, Djibouti City&lt;/td&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div id="htmlwidget-8638246147f116055607" style="width:672px;height:480px;" class="leaflet html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-8638246147f116055607"&gt;{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&amp;copy; &lt;a href=\"https://openstreetmap.org\"&gt;OpenStreetMap&lt;\/a&gt; contributors, &lt;a href=\"https://creativecommons.org/licenses/by-sa/2.0/\"&gt;CC-BY-SA&lt;\/a&gt;"}]},{"method":"addMarkers","args":[50.7227846,7.1172788,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"Villa Hammerschmidt, Bonn",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[50.7227846,50.7227846],"lng":[7.1172788,7.1172788]}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;h2 id="converting-hazard-distributions-into-expected-damages"&gt;Converting hazard distributions into expected damages&lt;/h2&gt;
&lt;p&gt;So far, the analysis has concentrated on quantifying the exposure to physical risks. Next, we might want to convert this exposure into expected damages to our assets. &lt;strong&gt;Damage curves&lt;/strong&gt; are the standard tool applied to achieve this.&lt;/p&gt;
&lt;h3 id="damage-curves"&gt;Damage curves&lt;/h3&gt;
&lt;p&gt;Damage curves, also vulnerability functions, are curves mapping the intensity of an hazard to the expected damage to an asset, which is typically expressed as a damage ratio — i.e. percentage of asset construction value that is lost. These curves are usually estimated from historical damage data.&lt;/p&gt;
&lt;p&gt;The actual damage incurred by an asset will depend on a multitude of factors. For example, in the case of a riverine flood, we can immagine that the presence of basement, the height of the house floor, number of floors, materials, construction methods, whether preventive measure have been taken, etc., are all factors that will modify the impact of flooding on the property.&lt;/p&gt;
&lt;p&gt;Therefore, &lt;strong&gt;there is no there is no universal damage curve that can be applied to all types of assets&lt;/strong&gt;. Usually, different damage curves are devised according to key characteristics of the assets, such as material, construction techniques, positioning, orientation, shape, height, layout, number of windows, etc. This will allow to get a more accurate estimate of the effective hazard damages.&lt;/p&gt;
&lt;p&gt;Nevertheless, for the sake of this example, let’s keep things simple and assume a unique damage curve is representative for all presidential palaces. We will take an average damage curves without worrying too much about construction specifications. In the figure below, I plotted average damages curves developed in &lt;a href="https://publications.jrc.ec.europa.eu/repository/handle/JRC105688"&gt;this research paper of the JRC (European Commission)&lt;/a&gt; for different regions of the World. If you wish to download the curves used in this example, a cleaned version of the data is available&lt;br /&gt;
&lt;a href="https://fbellelli.com/posts/natural-hazard-risk-analysis-in-r/flood_damage_curve_residential_buldings.csv"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src="file1f14775a54a5_files/figure-html/unnamed-chunk-17-1.png" width="672" /&gt;&lt;/p&gt;
&lt;p&gt;From the figure, it can be seen that on average building in Central and South America are more vulnerable than buildings in Asia. For the same inundation levels (x-axis), a higher damage ratio is expected (y-axis).&lt;/p&gt;
&lt;p&gt;In order to keep things simple, this example will only keep the European damage curve and apply it to all presidential palaces, irrespectively of their location. This choice is completely arbitrary. I chose to keep the European curve because it is the one which associates the lowest expected damages to floods. This selection is based on the criterion that presidential palaces are likely to be built with high specifications and usually undergo constant checks and maintenance. In any case, the purpose of this example is to illustrate to general process rather giving exact damage figures.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;#load list of palaces
damage_curve &amp;lt;- read.csv(&amp;quot;flood_damage_curve_residential_buildings.csv&amp;quot;)

#Keep only the European curve and rename it
damage_curve &amp;lt;- damage_curve[,c(&amp;quot;FloodDepth&amp;quot;,&amp;quot;Europe&amp;quot;)]
colnames(damage_curve)[2] &amp;lt;- &amp;quot;DamageRatio&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id="calculating-expected-damages"&gt;Calculating expected damages&lt;/h3&gt;
&lt;p&gt;The original damage curves in the JRC paper are defined by 9 flood depth points (0, 0.5, 1, …, 6). In order to get estimates for intermediate values (e.g. 0.3m of flooding) we can interpolate the damage ratios between these points. With the following code, I build a table that summarises the damage curve with a bit more granularity.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;interpolated_damage_curve &amp;lt;- data.frame(FloodDepth=seq(0,6,0.1))
interpolated_damage_curve &amp;lt;- left_join(interpolated_damage_curve, damage_curve, by=&amp;quot;FloodDepth&amp;quot;)

library(zoo)
interpolated_damage_curve &amp;lt;- interpolated_damage_curve %&amp;gt;%
  zoo(.)%&amp;gt;%
  apply(., MARGIN = 2, FUN = zoo::na.approx) %&amp;gt;%
  as.data.frame()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now that we have a nice summary table, we can easily import the expected damage ratio for each presidential palaces by matching the expected flooding level under different return periods with the ones in the interpolated damage curve table.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;#In the data frame long table, each entry correspond to an asset-return period combination

#merging is done on the rounded expected flood depth (converted to character to facilitate merging and avoid problems associated with floating point numbers)
long_table$rounded_flood_depth &amp;lt;- as.character(round(long_table$flood_depth,1))
interpolated_damage_curve$FloodDepth &amp;lt;- as.character(interpolated_damage_curve$FloodDepth)
long_table &amp;lt;- dplyr::left_join(long_table,interpolated_damage_curve,by=c(&amp;quot;rounded_flood_depth&amp;quot;=&amp;quot;FloodDepth&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then, we can proceed to calculating the expected damage ratio for the presidential palaces by taking a weighted average of the damage ratios over each return period.&lt;/p&gt;
&lt;p&gt;&lt;span class="math display"&gt;\[ 
E[\text{Flooding}]_i = \sum^{n-1}_{j=1}\frac{1}{2}\left(\frac{1}{RP_{j}} + \frac{1}{RP_{j+1}}\right)\cdot \left[D_i(Depth_{i,j+1}) - D_i(Depth_{i,j})\right] 
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This formula is nearly identical to the one used for the average flood level, the only addition is the function &lt;span class="math inline"&gt;\(D_{i}\)&lt;/span&gt;, which transforms the input — flood depth — into a damage ratio based on the vulnerability curve for the property. We can easily calculate this in R as follows:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;#calculating the expected flood level
damage_table &amp;lt;- long_table %&amp;gt;%
  mutate(prob_exceedance = 1/return_period) %&amp;gt;%
  group_by(Building) %&amp;gt;%
  arrange(return_period) %&amp;gt;%
  summarise(expected_flood_damage = sum(ifelse(return_period == max(return_period), 
                                    0, 
                                    0.5*(prob_exceedance + lead(prob_exceedance))*(lead(DamageRatio)-DamageRatio))), .groups=&amp;quot;drop&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The table below lists the palaces that have the highest expected flood damage. As we already mentioned before, the results for the first two palaces seems suspiciously high — if the 15.7% expected annual damage from flood were an accurate figure, fisheries would be a more fitting allocation of the grounds of Gabon’s Presidential palaces. It would be advisable to use alternative maps (possibly with higher granularity) to double-check these numbers. Also, there might be preventive measures in place that the maps do not take into account (e.g. embankments) that can explain this result.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;damage_table %&amp;gt;% 
  arrange(desc(expected_flood_damage))%&amp;gt;%
  head(10) %&amp;gt;%
  mutate(expected_flood_damage=100*expected_flood_damage)%&amp;gt;%
  knitr::kable(., 
               caption=&amp;quot;The ten palaces with the highest expected flooding damages&amp;quot;,
               align=c(&amp;quot;l&amp;quot;,&amp;quot;c&amp;quot;),
               col.names=c(&amp;quot;Palace&amp;quot;, &amp;quot;Annualised expected damage (%)&amp;quot;),
               digits=1)&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;caption&gt;(#tab:unnamed-chunk-22)The ten palaces with the highest expected flooding damages&lt;/caption&gt;
&lt;thead&gt;
&lt;tr class="header"&gt;
&lt;th align="left"&gt;Palace&lt;/th&gt;
&lt;th align="center"&gt;Annualised expected damage (%)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Presidential Palace, Libreville&lt;/td&gt;
&lt;td align="center"&gt;15.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Villa Hammerschmidt, Bonn&lt;/td&gt;
&lt;td align="center"&gt;12.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Carthage Palace, Tunis&lt;/td&gt;
&lt;td align="center"&gt;3.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Presidential Palace, Khartoum&lt;/td&gt;
&lt;td align="center"&gt;3.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Villa Somalia, Mogadishu&lt;/td&gt;
&lt;td align="center"&gt;2.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Ak Orda Presidential Palace, Nur-Sultan&lt;/td&gt;
&lt;td align="center"&gt;2.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Bellevue Palace, Berlin&lt;/td&gt;
&lt;td align="center"&gt;1.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Malacañang Palace, Manila&lt;/td&gt;
&lt;td align="center"&gt;1.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Nicolau Lobato Presidential Palace, Dili&lt;/td&gt;
&lt;td align="center"&gt;0.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Presidential Palace, Djibouti City&lt;/td&gt;
&lt;td align="center"&gt;0.8&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="climate-change-the-elephant-in-the-room"&gt;Climate change: the elephant in the room&lt;/h2&gt;
&lt;p&gt;The entire analysis we conducted to this point ignores once crucial element: &lt;strong&gt;climate change&lt;/strong&gt;. Because of it, extreme weather patterns are predicted to become more frequent and intense in most places around the globe. Hence, risk analyses should take this into account.&lt;/p&gt;
&lt;p&gt;Most hazard maps are based on historical data — they are &lt;em&gt;backward looking&lt;/em&gt; by construction. The problem is that past occurrences might not be representative of future risk if the underlying climate is changing. The solution is using maps that incorporate the changes in risk due to climate change patterns. Climate models are used to predict how extreme weather events will change in the future under different emission scenarios.&lt;/p&gt;
&lt;p&gt;The problem of these climate models is that they have inherent uncertainty in predicting complex system over long horizon. Therefore, estimates may come with large uncertainty bands and vary between models. Moreover, Many of these models have low spatial granularity, therefore results may be too coarse to be translated into risk maps. Nevertheless, there is much research going on in this area and our understanding and tools will certainly get better in the near future.&lt;/p&gt;
&lt;p&gt;I would like to mention that the &lt;strong&gt;&lt;a href="https://www.wri.org/data/aqueduct-floods-hazard-maps"&gt;Acqueduct&lt;/a&gt;&lt;/strong&gt; flood maps are available also under two different climate scenarios (RCP4.5 and RCP8.5) with prediction from four different climate models. Dear reader, a perfect exercise to test your understanding would be to replicate this analysis with one of the hazard maps under the RCP8.5 scenario (corresponding to a pessimistic, business as usual concentration pathway) and compare the results to the ones obtained here with historic data. How do results change for our list of presidential palaces? You should find an increase in flood risk and expected flood damages.&lt;/p&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
      <distill:md5 xmlns:distill="https://distill.pub/journal/">46210a8a71d53691a1cc750c85c1d659</distill:md5>
      <category>risk</category>
      <category>coding</category>
      <category>environment</category>
      <category>other</category>
      <guid>https://fbellelli.com/posts/2022-05-22-a-brief-introduction-to-natural-hazard-risk-analysis</guid>
      <pubDate>Sat, 21 May 2022 00:00:00 +0000</pubDate>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://fbellelli.com/posts/2022-05-22-a-brief-introduction-to-natural-hazard-risk-analysis/flood.jpg" medium="image" type="image/jpeg"/>
    </item>
    <item>
      <title>First version of countries</title>
      <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Francesco S. Bellelli</dc:creator>
      <link>https://fbellelli.com/posts/2022-02-27-first-version-of-countries</link>
      <description>The first development version of the package countries is now available on Github. This post looks at how the package can be used to work with country names.</description>
      <category>coding</category>
      <guid>https://fbellelli.com/posts/2022-02-27-first-version-of-countries</guid>
      <pubDate>Sun, 27 Feb 2022 00:00:00 +0000</pubDate>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://fbellelli.com/posts/2022-02-27-first-version-of-countries/../../images/Countries_logo.png" medium="image" type="image/png" width="864" height="1000"/>
    </item>
    <item>
      <title>A package for country data</title>
      <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Francesco S. Bellelli</dc:creator>
      <link>https://fbellelli.com/posts/2021-06-20-a-package-for-country-data</link>
      <description>I am working on an R package designed to quickly wrangle, merge and explore country data</description>
      <category>coding</category>
      <guid>https://fbellelli.com/posts/2021-06-20-a-package-for-country-data</guid>
      <pubDate>Sun, 20 Jun 2021 00:00:00 +0000</pubDate>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://cdn.britannica.com/13/129613-131-30279F20/Flags-world-flags-Country-history-blog-travel-2009.jpg" medium="image" type="image/jpeg"/>
    </item>
    <item>
      <title>TileMaster: a strategy game in Shiny</title>
      <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Francesco S. Bellelli</dc:creator>
      <link>https://fbellelli.com/posts/2021-04-03-tilemaster-a-strategy-game-in-shiny</link>
      <description>I created a small strategy game with RStudios' Shiny platform. If it can run a data dashboard, why not a strategy game?</description>
      <category>coding</category>
      <guid>https://fbellelli.com/posts/2021-04-03-tilemaster-a-strategy-game-in-shiny</guid>
      <pubDate>Sat, 03 Apr 2021 00:00:00 +0000</pubDate>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://fbellelli.com/posts/2021-04-03-tilemaster-a-strategy-game-in-shiny/../../images/tilemaster_screenshot.png" medium="image" type="image/png" width="1599" height="1531"/>
    </item>
  </channel>
</rss>
